languaje: node_js
node_js:
  - node #latest stable Node.js release 

cache:
  directories:
    - "node_modules"

install:
  - npm install

before_script:
  - git config --global user.email "travis@travis-ci.org"
  - git config --global user.name "Travis CI"

script:
  - npm run gulp build
  - chmod +x postScript.sh
  - ./postScript.sh   

after_success:
  - chmod +x predeploy.sh
  - ./predeploy.sh

deploy:
  - provider: npm
    name: "$TRAVIS_TAG"
    email: "$npm_email"
    api_key: "$npm_token"
    skip_cleanup: true
    on:
      tags: true
  - provider: releases
    name: "$TRAVIS_TAG"
    api_key: "$github_release"
    file: 
      - css/skeleton-styled.min.css
      - css/skeleton-styled.css
      - javascript/skeleton-styled.js
      - javascript/skeleton-styled.min.js
    skip_cleanup: true
    on:
      tags: true